<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24/7 Online Vet Appointments - VetConnect</title>
    <link rel="shortcut icon" href="./assets/icons8-guide-dog-48.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles/index.css">
    <link rel="stylesheet" href="./styles/navbar.css">

    <!-- Fontawesome -->
    <script src="https://kit.fontawesome.com/f584623432.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <!-- Navbar -->
    <div id="navbar"></div>

    <!-- Hero Section -->
    <div class="container text-center mt-5">
        <h1>Welcome to VetConnect</h1>
        <p>Your trusted 24/7 online vet appointment platform</p>
    </div>

    <!-- AI Assistant Section -->
    <div class="ai-wrapper">
        <img src="/frontend/assets/Screenshot_249-removebg-preview.png"
            alt="AI Assistant"
            class="chat-image">

        <div class="chat-container">
            <div class="header">üêæ VetConnect AI Assistant</div>

            <div class="chat-log" id="chatLog"></div>

            <div class="footer">
                <div class="chat-input">
                    <input type="text" id="userInput" placeholder="Describe your pet's symptoms..." />
                    <button id="sendButton">Send</button>
                </div>
                <p class="disclaimer">
                    ‚ö†Ô∏è General guidance only. Always consult a veterinarian.
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <!-- Styles -->
    <style>
        .ai-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 80px auto;
            gap: 60px;
            flex-wrap: wrap;
        }

        .chat-container {
            width: 380px;
            height: 420px;
            padding: 15px;
            border-radius: 10px;
            background: #fff;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
        }

        .header {
            background: #544DCF;
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }

        .chat-log {
            flex: 1;
            overflow-y: auto;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
        }

        .chat-input {
            display: flex;
            gap: 8px;
        }

        .chat-input input {
            flex: 1;
            padding: 6px;
        }

        .chat-input button {
            background: #544DCF;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
        }

        .message {
            margin-bottom: 8px;
            padding: 6px;
            border-radius: 4px;
        }

        .user-message {
            background: #f1f1f1;
        }

        .bot-message {
            background: #e6e6ff;
        }

        .chat-image {
            width: 320px;
        }

        .disclaimer {
            font-size: 11px;
            color: gray;
            margin-top: 6px;
            text-align: center;
        }
    </style>

    <!-- AI Script -->
    <script>
        const chatLog = document.getElementById("chatLog");
        const userInput = document.getElementById("userInput");
        const sendButton = document.getElementById("sendButton");

        sendButton.addEventListener("click", sendMessage);
        userInput.addEventListener("keypress", e => {
            if (e.key === "Enter") sendMessage();
        });

        function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;

            appendMessage(text, "user-message");
            appendMessage(getBotResponse(text), "bot-message");
            userInput.value = "";
        }

        function appendMessage(text, className) {
            const div = document.createElement("div");
            div.className = message ${className};
            div.innerText = text;
            chatLog.appendChild(div);
            chatLog.scrollTop = chatLog.scrollHeight;
        }

        function getBotResponse(message) {
            const msg = message.toLowerCase();

            if (msg.includes("vomit") || msg.includes("diarrhea")) {
                return "Vomiting or diarrhea can have many causes. Make sure your pet stays hydrated. If symptoms last more than 24 hours, please book a vet appointment.";
            }

            if (msg.includes("cough") || msg.includes("sneeze")) {
                return "Coughing or sneezing may be related to respiratory irritation. Monitor your pet and consult a veterinarian if it worsens.";
            }

            if (msg.includes("not eating") || msg.includes("lethargic")) {
                return "Loss of appetite or low energy can be concerning. If this continues, a vet visit is recommended.";
            }

            return "Thanks for sharing. I can provide general guidance, but for accurate diagnosis and treatment, please consult a licensed veterinarian.";
        }
    </script>

    <script src="./scripts/index.js" type="module"></script>
</body>
</html>
